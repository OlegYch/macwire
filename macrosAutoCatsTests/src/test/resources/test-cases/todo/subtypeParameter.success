import com.softwaremill.macwire.auto.catssupport._

import cats.effect._

trait A
class AA(i: Int) extends A

class B(a: A)

object Main extends App {

  val theAA = new AA(1)
  val theB = {
    import cats.effect.unsafe.implicits.global
    
    val resource = autowire[B](theAA)
    resource.allocated.unsafeRunSync()._1
  }

  require(theB.a == theAA)
}
